<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org">
<head th:replace="fragments :: page_head(${pageTitle})" />
<body>
	<div class="container-fluid">
		<div th:replace="navigation :: menu"></div>
		<div>
			<h1>Manage Users - [[${pageTitle}]]</h1>
		</div>
		<form
			th:action="@{/categories/save}"
			method="post"
			enctype="multipart/form-data"
			style="max-width: 500px; margin: 0 auto"
			th:object="${category}"
			onsubmit="return checkEmailUnique(this);"
		>
			<input
				type="hidden"
				th:field="*{id}"
			/>
			<div class="border border-secondary rounded  p-3">
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Catgeory Name</label>
					<div class="col-sm-8">
						<input
							type="email"
							th:field="*{name}"
							maxlength="128"
							required
							minlength="3"
							class="form-control"
						>
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label"> Alias</label>
					<div class="col-sm-8">
						<input
							type="text"
							th:field="*{alias}"
							maxlength="45"
							required
							minlength="2"
							class="form-control"
						>
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Parent Category</label>
					<div class="col-sm-8">
						<select
							class="form-control"
							th:field="*{parent}"
						>
							<option value="0">[no parent]</option>
							<th:block th:each="cat : ${listCatgeories}">
								<option th:value="${cat.name}"> [[${cat.name}]]  </option>
							</th:block>
						</select>
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label"> Fotograf</label>
					<div class="col-sm-8">
						<input
							type="hidden"
							th:field="*{image}"
						/> <input
							type="file"
							name="image"
							class="mb-2"
							id="fileImage"
							accept="image/png, image/jpeg"
						>
						<div class="mt-2">
							<img
								class="img-fluid"
								id="thumbnail"
								alt="Photos preview"
								th:src="@{/images/category_priview.png}"
							/>
						</div>
					</div>
				</div>
				<div class="text-center">
					<input
						type="submit"
						value="Kaydet"
						class="btn btn-primary m-3"
					/> <input
						type="button"
						value="VazgeÃ§"
						class="btn btn-secondary"
						id="buttonCancel"
					/>
				</div>
			</div>
		</form>
		<div
			class="modal fade  text-center"
			id="modalDialog"
		>
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4
							class="modal-title"
							id="modalTitle"
						>Dikkat</h4>
						<button
							type="button"
							class="close"
							data-dismiss="modal"
						>&times</button>
					</div>
					<div class="modal-body">
						<span id="modalBody"> </span>
					</div>
					<div class="modal-footer">
						<button
							type="button"
							class="btn btn-danger"
							data-dismiss="modal"
						>close</button>
					</div>
				</div>
			</div>
		</div>
		<div th:replace="fragments :: footer"></div>
	</div>
</body>
<script type="text/javascript">
	moduleURL = "[[@{/categories}]]";
</script>
<script
	type="text/javascript"
	th:src="@{/js/common_form.js}"
></script>
</html>