<!DOCTYPE html>
<html>

<head xmlns:th="http://www.thymeLeaf.org">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name"viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
	<title>Home - BidiBadi Admin</title>


	<link rel="styLesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
	<link rel="styLesheet" type="text/css" th:href="@{/fontawesome/all.css}">
	<link rel="styLesheet" type="text/css" th:href="@{/style.css}">
	<script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}">	</script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}">



	</script>
</head>

<body>

	<div class="container-fluid">


		<div>

			<nav class="navbar navbar-expand-lg bg-dark navbar-dark">


				<a class="navbar-brand" th:href=" @{/} ">
					<img th:src=" @{/images/logo.jpeg} " width=" 100" height="100">
				</a>

				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topNavbar">

					<span class="navbar-toggler-icon"></span>

				</button>

				<div class="collapse navbar-collapse" id="topNavbar">

					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/users} "> Kullanıcılar </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/categories} "> Kategoriler </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/brands} "> Markalar </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/products} "> Ürünler </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/customers} "> Müşteriler </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/shipping} "> Kargo </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/orders} "> Siparişler </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/report} "> Raporlar </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/articles} "> Makaleler </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/menus} "> Menüler </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href=" @{/users} "> Ayarlar </a>
						</li>

					</ul>
				</div>
			</nav>

		</div>


		<div>

			<h1>Manage Users</h1>

			<a th:href="@{/users/new}">Yeni Kullanıcı Ekle </a>
		</div>



		<div th:if="${message != null}" class="alert alert-success text center">

			[[${message}]]
		</div>

		<div>
			<table class="table table-bordered  table-striped table-hover table-responsive-xl">
				<thead class="thead-dark">
					<tr>

						<th>Kullanıcı Numarasi</th>


						<th>fotoğraf</th>

						<th>Email</th>
						<th>Kullanıcı adı</th>
						<th>Kullanıcı Soyadı</th>


						<th>Rolleri</th>


						<th>Aktif mi</th>
						<th> İşlemler </th>

					</tr>

				</thead>
				<tbody>


					<tr th:each="user : ${userlist}">


						<td> [[${user.id}]] </td>
						<td> <span th:if="${user.photos == null}" class="fas fa-portrait fa-3x icon-green"></span> <img
								th:if="${user.photos != null}" th:src="@{${user.photosImagePath}}"
								style="width: 100px" /></td>

						<td> [[${user.email}]] </td>
						<td> [[${user.firstname}]] </td>
						<td> [[${user.lastname}]] </td>
						<td> [[${user.roles}]] </td>
						<td>

							<a th:if="${user.enabled == true}" class="fas fa-check-circle fa-2x icon-green"
								th:href="@{'users/' + ${user.id} + '/enabled/false'   }"></a>
							<a th:if="${user.enabled == false}" class="fas fa-circle fa-2x icon-dark"
								th:href="@{'users/' + ${user.id} + '/enabled/true'   }"></a>





						</td>
						<td><a th:href="@{'/users/edit/' + ${user.id}}" title="Kişiyikaydet......"
								class="fas fa-edit fa-2x icon-green"></a> &nbsp;
							<a th:href="@{'/users/delete/' + ${user.id}}" th:userId="${user.id}"
								class="fas fa-trash fa-2x icon-green Link-delete"></a> </td>






					</tr>

				</tbody>



			</table>

		</div>


		<div class="text-center m-1" th:if="${totalItems > 0}">

			<span> Showing users = [[${startCount}]] to [[${endCount}]] of [[${totalItems}]] </span>

		</div>
		<div class="text-center m-1" th:unless="${totalItems > 0}">

			<span> no kullanici</span>

		</div>
		
		<p  > [[${totalPages}]]</p>
		<p  > [[${currentPage}]]</p>
	
	
		
		
		
		<nav>
			<ul class="pagination justify-content-center">
				<li class="page-item disabled" >
					<a class="page-link" th:href="@{/users/page/1}">First</a>
				</li>
				<li class="page-item disabled">
					<a class="page-link" th:href="@{'/users/page/' +${currentPage-1}}">Previous</a>
				</li>
				<li th:class="${currentPage != i ? 'page-item' : 'page-item active' }"  th:each="i : ${#numbers.sequence(1,totalPages)}"  >
				<a class="page-link" th:href="@{'/users/page/' +${i}}">[[${i}]]</a>
				</li>
				<li class="page-item disabled">
				<a class="page-link" th:href="@{'/users/page/' +${currentPage+1}}">Next</a>
				</li>
				<li class="page-item disabled">
				<a class="page-link" th:href="@{'/users/page/' +${totalPages}}">Last</a>
				</li>
			</ul>
		</nav>


		<div class="text-center">
			<p>BidiBadi Control Panel - Copyright &copy; BidiBadi</p>

		</div>
	</div>
	<div class="modal fade  text-center" id="confirmModal">
		<div class="modal-dialog">
			<div class="modal-content">

				<div class="modal-header">


					<h4 class="modal-title" id="modalTitle">Dikkat,Silme İşlemi gercekleşecektir</h4>
					<button type="button" class="close" data-dismiss="modal">&times</button>
				</div>

				<div class="modal-body">




					<span id="confirmText">


					</span></div>


				<div class="modal-footer">

					<a class="btn btn-success" id="yesbutton">Evet</a>
					<button type="button" class="btn btn-danger" data-dismiss="modal">Hayır</button>


				</div>




			</div>

		</div>

	</div>

	<script type="text/javascript">
		$(document).ready(function () {
			$(".Link-delete").on("click", function (e) {
				e.preventDefault();
				link = $(this);
				userId = link.attr("userId");

				$("#yesbutton").attr("href", link.attr("href"));
				$("#confirmText").text("Bukaydısilmeyeemin msisn... " + userId);
				$("#confirmModal").modal();

			});
		});

	</script>


</body>

</html>